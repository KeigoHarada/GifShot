## GifShot

軽量なメニューバー常駐のGIF録画ツール（macOS 13+）。

### 主な機能
- ホットキーで矩形選択→録画開始、再度ホットキーで録画停止
- 録画停止時にGIFへエンコードして自動保存・クリップボードへコピー
- マルチディスプレイ対応・高DPI対応・初回クリック不要の範囲選択
- 最大録画時間（既定60秒、上限5分）をメニューから切替
- 保存完了の通知（通知クリック/アクションで保存先を表示）

### 使い方
1) アプリを起動（メニューバーにアイコン表示）
2) ホットキー: Cmd + Shift + 6
   - 画面が暗転、マウスドラッグで矩形選択 → 録画開始
   - 再度 Cmd + Shift + 6 → 録画停止 → GIF生成/保存/コピー

### メニュー
- 録画開始/停止
- 保存先: パス表示、[保存先を変更…]、[保存フォルダを開く]
- 最大録画時間プリセット: 15 / 30 / 60 / 120 / 300 秒（現在値はメニュー上に表示）
- 終了

### 保存先と永続化
- 初回起動時（または未設定時）に保存先フォルダを選択（推奨: `~/Documents/GifShot`）
- 選択先はセキュリティスコープ付きブックマークとして UserDefaults に保存
  - キー: `saveFolderBookmark`
- 最大録画時間は UserDefaults に保存
  - キー: `maxDurationSeconds`

### クリップボード
- 録画停止時、GIFデータとファイルURLの両方をクリップボードへ設定します
  - 多くのアプリで貼り付け可（ファイル/画像の両対応）

### 権限
- 画面収録: システム設定 > プライバシーとセキュリティ > 画面収録 で許可
- 通知: 初回に通知権限を要求（バナー/サウンド）

### ホットキー
- 既定: Cmd + Shift + 6（固定）

### 既知の仕様/制限
- 長時間録画はメモリ使用量が増えます（フレームをメモリ蓄積→GIF化するため）
  - 目安: 400x300 なら 1 分程度は余裕。広い解像度ほど消費が増大
- さらなる長時間対応は「逐次エンコード」への拡張で対応予定

### トラブルシュート
- 範囲と保存結果の位置がズレる:
  - 高DPI・マルチディスプレイ環境でY座標反転/スケール起因のズレが起こり得ますが、現行実装は補正済み
- 保存先がコンテナ配下に見える:
  - 初回に保存先を明示選択してください（メニュー: 保存先を変更…）。以降は選択先に保存
- ダイアログが裏に回る/クリックが効かない:
  - メインアプリを前面化（NSApp.activate）済み。再現時は前面アプリ/フルスクリーン状態をご報告ください

### フォルダ構成（抜粋）
```
GifShot/
  Core/                    # ログなどの基盤
  System/                  # システム寄りのユーティリティ（ホットキー、マウス監視）
  Services/                # 保存・通知などのアプリサービス
  Recording/               # 録画・GIFエンコード
  UI/Overlay/              # 範囲選択オーバーレイ一式
  AppModel.swift           # アプリ全体の状態とフロー
  GifShotApp.swift         # メニューバーエントリ
  Docs/                    # 開発メモ
```

### ビルド要件
- macOS 13+
- Xcode 15+

### ライセンス
MIT（予定）。


